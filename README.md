
# 刮刮卡

**刮刮卡效果的原理**

刮刮乐是一一个很好玩的小应用,娱乐性强,靠的是运气.在图片上随机产生一个中奖信息,蒙上一层颜色,用户使用指甲在屏幕上涂刮,最后看到中奖信息.

刮刮乐有两个涂层:

1.不会改变的中奖信息涂层

2.蒙上背景颜色的灰色涂层

当用户在屏幕上涂抹的时候,我们需要将灰色涂抹掉,中奖信息其实需要改变,涂抹时,无需重绘中奖信息,所以对于中奖的Bitmap而言,采用更简单的实现,可以在图片上显示中奖信息作为view的Background,当手指涂抹,就不需要再考虑重绘问题了,我们再创建一个Bitmap对象,初始蒙上一层灰色,手指在屏幕上移动时同时绘制线条,将线条与灰色做了MODE.CLEAR运算,相交的部分被清除,变成透明效果,于是我们就看到背景颜色了

刮刮乐需要经历下面两个步骤:

1.绘制背景

背景需要一张图片,资源中的图片不能编辑,所以必须调用Bitmap的copy()方法复制一张同样的图片作为可编辑标识,随机生成的中奖金,条用view的setBackground设置为背景

1. 屏幕上绘制线条
   定义一个Bitmap对象,初始画上一层灰色,当手指在屏幕上移动,不断绘制曲线,曲线和灰色的MODE.CLEAR运算,实现清理的效果


1. Paint.setXferMode()

   *圆角图片以及圆形图片的实现*

   - [ ] 绘制矩形(正方形)图片
   - [ ] setxferMode(Destin)
   - [ ] 绘制我们的圆形![Screen Shot 2017-01-19 at 20.04.24](/Users/MicroKibaco/Desktop/Screen Shot 2017-01-19 at 20.04.24.png)

   ------------------------------------------------------------------

   - [ ] 绘制我们的圆形

   - [ ] setxferMode(SrcIn)

   - [ ] 绘制矩形(正方形)图片

         ​

   **总结**

   1. Canvas Paint Path Bitmap 
   2. mPaint.setXferMode()
   3. 自定义属性
   4. bitmap.getPixels()

   ​
